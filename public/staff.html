<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="logo.png" type="image/png"> 
    <title>Quản Lý Nhân Viên - AoiSora</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="output.css">
</head>
<body class="flex h-screen text-gray-800">

    <!-- Sidebar Placeholder -->
    <div id="sidebar-placeholder"></div>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Header Placeholder -->
        <div id="header-placeholder"></div>

        <!-- Content Area -->
        <main class="flex-1 overflow-hidden p-6">
            <div class="bg-white p-6 rounded-lg shadow-md h-full flex flex-col">
                <div class="flex justify-between items-center mb-3 flex-wrap gap-4">
                    <h2 class="text-lg font-semibold text-gray-700 flex-shrink-0">Danh Sách Nhân Viên</h2>
                    <div class="flex items-center gap-2">
                        <button id="add-staff-btn" class="inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700">
                            <i class="fas fa-user-plus mr-2"></i>Thêm Nhân Viên
                        </button>
                        <button id="manage-roles-btn" class="inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-teal-600 hover:bg-teal-700">
                            <i class="fas fa-briefcase mr-2"></i> Quản lý Chức Vụ
                        </button>
                    </div>
                </div>

                <!-- Staff List Table -->
                <div class="overflow-hidden flex-1">
                    <table class="min-w-full divide-y divide-gray-200">

                        <thead class="bg-slate-50">
                            <tr id="staff-table-header">
                                <th scope="col" class="th-sortable" data-column="id">
                                    <span>STT</span>
                                    <span class="sort-indicator"></span>
                                </th>
                                <th scope="col" class="th-sortable" data-column="id">
                                    <span>Mã NV</span>
                                    <span class="sort-indicator"></span>
                                </th>
                                <th scope="col" class="th-sortable" data-column="name">
                                    <span>Họ Tên</span>
                                    <span class="sort-indicator"></span>
                                </th>
                                <th scope="col" class="th-sortable" data-column="roleId" data-filterable="true">
                                    <span>Chức Vụ</span>
                                    <span class="sort-indicator"></span>
                                </th>
                                <th scope="col" class="th-sortable" data-column="storeId" data-filterable="true">
                                    <span>Cửa Hàng/Khu vực</span>
                                    <span class="sort-indicator"></span>
                                </th>
                                <th scope="col" class="th-sortable" data-column="phone">
                                    <span>Số Điện Thoại</span>
                                    <span class="sort-indicator"></span>
                                </th>
                                <th scope="col" class="th-sortable" data-column="status" data-filterable="true">
                                    <span>Trạng Thái</span>
                                    <span class="sort-indicator"></span>
                                </th>
                                <th scope="col" class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Hành Động
                                </th>
                            </tr>
                        </thead>
                        <tbody id="employee-list" class="divide-y divide-gray-200">
                            <!-- Dữ liệu nhân viên sẽ được JS render vào đây -->
                        </tbody>
                    </table>
                </div>

                <!-- Pagination Controls -->
                <div id="pagination-controls" class="flex items-center justify-between mt-4 px-4 py-3 sm:px-6">
                    <!-- Nội dung phân trang sẽ được JS render vào đây -->
                </div>

                <!-- Sort/Filter Popup -->
                <div id="sort-filter-popup" class="hidden absolute z-20 mt-2 w-60 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none">
                    <div class="py-1" role="menu" aria-orientation="vertical" aria-labelledby="options-menu">
                        <div id="sort-options">
                            <a href="#" class="sort-btn block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" data-direction="asc"><i class="fas fa-arrow-up-a-z w-5 mr-2"></i> Sắp xếp A-Z</a>
                            <a href="#" class="sort-btn block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" data-direction="desc"><i class="fas fa-arrow-down-z-a w-5 mr-2"></i> Sắp xếp Z-A</a>
                        </div>
                        <div id="filter-options" class="border-t border-gray-100">
                            <div class="p-2">
                                <input type="text" id="filter-search" class="form-input form-input-sm w-full" placeholder="Tìm kiếm để lọc...">
                            </div>
                            <div id="filter-list" class="max-h-48 overflow-y-auto">
                                <!-- Filter items will be injected here -->
                            </div>
                            <div class="border-t border-gray-100 p-2">
                                <button id="clear-filter-btn" class="w-full btn btn-secondary btn-sm text-xs">Xóa bộ lọc</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- MODAL: Thêm/Sửa Nhân Viên -->
                <div id="staff-modal" class="modal-overlay hidden">
                    <div class="modal-content max-w-xl">
                        <div class="modal-header">
                            <h3 id="staff-modal-title" class="modal-title"><i class="fas fa-user-plus mr-2 text-indigo-500"></i> Thêm Nhân Viên Mới</h3>
                            <button class="modal-close-btn"><i class="fas fa-times text-lg"></i></button>
                        </div>
                        <form class="modal-form" id="staff-form">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="form-group p-0 m-0">
                                    <label for="staff-id" class="form-label">Mã Nhân Viên (*)</label>
                                    <input type="text" id="staff-id" required class="form-input" placeholder="Ví dụ: TUNG_02">
                                </div>
                                <div class="form-group p-0 m-0">
                                    <label for="staff-name" class="form-label">Họ Tên (*)</label>
                                    <input type="text" id="staff-name" required class="form-input">
                                </div>
                            </div>
                             <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="form-group p-0 m-0">
                                    <label for="staff-role" class="form-label">Chức Vụ</label>
                                    <select id="staff-role" class="form-select">
                                        <!-- Dữ liệu chức vụ sẽ được JS tải vào đây -->
                                    </select>
                                </div>
                                <div class="form-group p-0 m-0">
                                    <label for="staff-store" class="form-label">Cửa Hàng</label>
                                    <select id="staff-store" class="form-select">
                                        <!-- Dữ liệu cửa hàng sẽ được JS tải vào đây -->
                                    </select>
                                </div>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="form-group p-0 m-0">
                                    <label for="staff-phone" class="form-label">Số Điện Thoại</label>
                                    <input type="tel" id="staff-phone" class="form-input">
                                </div>
                                <div class="form-group p-0 m-0">
                                    <label for="staff-status" class="form-label">Trạng Thái</label>
                                    <select id="staff-status" class="form-select">
                                        <!-- Dữ liệu trạng thái sẽ được JS tải vào đây -->
                                    </select>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn-secondary modal-close-btn">Hủy</button>
                                <button type="submit" id="staff-form-submit-btn" class="btn btn-indigo"><i class="fas fa-save mr-1"></i> Lưu</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- MODAL: Quản Lý Chức Vụ -->
                <div id="manage-roles-modal" class="modal-overlay hidden">
                    <div class="modal-content max-w-2xl">
                        <div class="modal-header">
                            <h3 class="modal-title"><i class="fas fa-briefcase mr-2 text-teal-500"></i> Quản Lý Chức Vụ</h3>
                            <button class="modal-close-btn"><i class="fas fa-times text-lg"></i></button>
                        </div>
                        <div class="modal-form">
                            <!-- Form Thêm Mới -->
                            <form id="add-role-form-inline" class="grid grid-cols-1 md:grid-cols-3 gap-4 items-end bg-gray-50 p-4 rounded-lg border mb-4">
                                <div class="form-group p-0 m-0">
                                    <label for="inline-role-id" class="block text-xs font-medium text-gray-600">Mã Chức Vụ (*)</label>
                                    <input type="text" id="inline-role-id" required class="form-input text-sm" placeholder="POS, MMD...">
                                </div>
                                <div class="form-group p-0 m-0">
                                    <label for="inline-role-name" class="block text-xs font-medium text-gray-600">Tên Chức Vụ (*)</label>
                                    <input type="text" id="inline-role-name" required class="form-input text-sm" placeholder="Thu ngân, Trưng bày...">
                                </div>
                                <button type="submit" class="btn btn-indigo text-sm h-10"><i class="fas fa-plus mr-2"></i>Thêm</button>
                            </form>

                            <!-- Danh sách chức vụ -->
                            <div class="overflow-y-auto max-h-80 border rounded-lg">
                                <table class="min-w-full">
                                    <tbody id="managed-roles-list" class="divide-y divide-gray-200">
                                        <!-- Dữ liệu chức vụ sẽ được JS render vào đây -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script type="module" src="bootstrapper.js" defer></script>
</body>
</html>
