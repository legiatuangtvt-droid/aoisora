<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HQ System</title>    
    <script>
        (function() {
            const v = new Date().getTime();
            document.write(`<link rel="icon" href="img/logo.png?v=${v}">`);
            document.write(`<link rel="stylesheet" href="css/styles.css?v=${v}">`);
            document.write(`<link rel="stylesheet" href="css/hq-report.css?v=${v}">`);
            document.write(`<script defer src="js/i18n.js?v=${v}"><\/script>`);
            document.write(`<script src="https://cdn.jsdelivr.net/npm/chart.js"><\/script>`);
            document.write(`<script defer src="js/hq-report.js?v=${v}"><\/script>`);
        })();
    </script>
</head>
<body>
    <div id="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text" data-i18n-key="loading-data">Loading data...</div>
        <div class="progress-bar-container">
            <div id="progress-bar" class="progress-bar"></div>
        </div>
        <div id="progress-text" class="progress-text">0%</div>
    </div>

    <!-- Ẩn container chính cho đến khi tải xong -->
    <div class="container" style="display: none;">
        <div class="home-screen">
            <button id="store-screen" data-i18n-key="go-to-store-screen">Go to Store screen</button>
            <h1 data-i18n-key="hq-system">HQ SYSTEM</h1>
        </div>
        <div class="button-group button-row">
            <div class="button-row-buttons">
                <button id="go-to-hq-tasks" data-i18n-key="hq-tasks">HQ Tasks</button>
                <button id="go-to-task-list" data-i18n-key="view-task-list">View Task List</button>
                <button id="go-to-create-task" data-i18n-key="create-new-task">Assign New Task</button>
                <button id="go-to-store-list" data-i18n-key="manage-stores">Manage Stores</button>
            </div>
            <h1 data-i18n-key="reports">Reports</h1>
        </div>
        <main>
            <section class="report-section">
                <h2 data-i18n-key="completion-rate-by-store">Completion Rate by Store</h2>
                <div class="report-filters">
                    <select id="year-filter"></select>
                    <select id="quarter-filter">
                        <option value="all" data-i18n-key="all-quarters">All Quarters</option>
                        <option value="1" data-i18n-key="quarter-1">Quarter 1</option>
                        <option value="2" data-i18n-key="quarter-2">Quarter 2</option>
                        <option value="3" data-i18n-key="quarter-3">Quarter 3</option>
                        <option value="4" data-i18n-key="quarter-4">Quarter 4</option>
                    </select>
                    <select id="month-filter"></select>
                </div>
                <div class="chart-container">
                    <canvas id="taskCompletionChart"></canvas>
                </div>
                <div id="task-table-container" class="table-container">
                    <table id="task-table">
                        <thead>
                            <tr>
                                <!-- Header sẽ được JS tự động tạo -->
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Dữ liệu sẽ được chèn vào đây -->
                        </tbody>
                    </table>
                </div>
            </section>

            <section class="report-section">
                <h2 data-i18n-key="task-stats-by-dept">Task Stats by Department</h2>
                <div class="chart-container">
                    <canvas id="taskReviewBarChart"></canvas>
                </div>
                <div class="table-container">
                    <table id="task-table2">
                        <thead>
                            <!-- Header sẽ được JS tự động tạo -->
                        </thead>
                        <tbody>
                            <!-- Dữ liệu sẽ được chèn vào đây -->
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>
</body>
</html>
